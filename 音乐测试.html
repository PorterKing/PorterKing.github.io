<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŸ³ä¹æµ‹è¯• - æ³¢&é›ª</title>
    <style>
        body {
            font-family: 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .info {
            background: rgba(255,255,255,0.9);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        .music-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .music-controls {
            display: flex;
            gap: 10px;
        }
        .btn {
            background: linear-gradient(135deg, #ff6b9d, #c89ae6);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .music-info {
            flex: 1;
        }
        .music-title {
            font-weight: bold;
            color: #ff6b9d;
            margin-bottom: 5px;
        }
        .music-status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 10px;
            color: white;
        }
        .status-loading { background: #ffa500; }
        .status-ready { background: #4CAF50; }
        .status-error { background: #f44336; }
        .status-playing { background: #2196F3; }
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        .volume-slider {
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="info">
            <h1>ğŸµ éŸ³ä¹æ’­æ”¾æµ‹è¯• ğŸµ</h1>
            <p>æµ‹è¯•æ›´æ–°åçš„éŸ³ä¹æ–‡ä»¶æ˜¯å¦èƒ½æ­£å¸¸æ’­æ”¾</p>
        </div>

        <div id="musicList">
            <!-- éŸ³ä¹åˆ—è¡¨ä¼šåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <script>
        const musicFiles = [
            'assets/music/music1.mp3',
            'assets/music/music2.mp3'
        ];

        const musicList = document.getElementById('musicList');
        const audioPlayers = [];

        musicFiles.forEach((musicPath, index) => {
            const card = document.createElement('div');
            card.className = 'music-card';

            const audio = new Audio();
            audioPlayers.push(audio);

            const fileName = musicPath.split('/').pop().replace('.mp3', '');
            const displayName = fileName === 'music1' ? 'æµªæ¼«éŸ³ä¹ 1' :
                               fileName === 'music2' ? 'æµªæ¼«éŸ³ä¹ 2' : fileName;

            card.innerHTML = `
                <div class="music-info">
                    <div class="music-title">${displayName}</div>
                    <div class="music-status status-loading" id="status-${index}">æ£€æµ‹ä¸­...</div>
                    <div class="volume-control">
                        <span>ğŸ”Š</span>
                        <input type="range" class="volume-slider" id="volume-${index}" min="0" max="100" value="30">
                        <span id="volume-text-${index}">30%</span>
                    </div>
                </div>
                <div class="music-controls">
                    <button class="btn" id="play-${index}" onclick="togglePlay(${index})" disabled>æ’­æ”¾</button>
                    <button class="btn" id="stop-${index}" onclick="stopMusic(${index})" disabled>åœæ­¢</button>
                </div>
            `;

            musicList.appendChild(card);

            // è®¾ç½®éŸ³é¢‘äº‹ä»¶
            audio.addEventListener('loadeddata', () => {
                const status = document.getElementById(`status-${index}`);
                const playBtn = document.getElementById(`play-${index}`);
                const stopBtn = document.getElementById(`stop-${index}`);

                status.textContent = 'âœ… å°±ç»ª';
                status.className = 'music-status status-ready';
                playBtn.disabled = false;
                stopBtn.disabled = false;
            });

            audio.addEventListener('error', () => {
                const status = document.getElementById(`status-${index}`);
                status.textContent = 'âŒ åŠ è½½å¤±è´¥';
                status.className = 'music-status status-error';
            });

            audio.addEventListener('play', () => {
                const status = document.getElementById(`status-${index}`);
                status.textContent = 'â–¶ï¸ æ’­æ”¾ä¸­';
                status.className = 'music-status status-playing';
            });

            audio.addEventListener('pause', () => {
                const status = document.getElementById(`status-${index}`);
                status.textContent = 'â¸ï¸ æš‚åœ';
                status.className = 'music-status status-ready';
            });

            // éŸ³é‡æ§åˆ¶
            const volumeSlider = document.getElementById(`volume-${index}`);
            const volumeText = document.getElementById(`volume-text-${index}`);

            volumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.volume = volume;
                volumeText.textContent = `${e.target.value}%`;
            });

            // è®¾ç½®é»˜è®¤éŸ³é‡
            audio.volume = 0.3;

            // åŠ è½½éŸ³é¢‘
            audio.src = musicPath;
            audio.preload = 'metadata';
        });

        // æ’­æ”¾/æš‚åœæ§åˆ¶
        function togglePlay(index) {
            const audio = audioPlayers[index];
            const playBtn = document.getElementById(`play-${index}`);

            if (audio.paused) {
                // åœæ­¢å…¶ä»–æ­£åœ¨æ’­æ”¾çš„éŸ³ä¹
                audioPlayers.forEach((player, i) => {
                    if (i !== index && !player.paused) {
                        player.pause();
                        document.getElementById(`play-${i}`).textContent = 'æ’­æ”¾';
                    }
                });

                audio.play();
                playBtn.textContent = 'æš‚åœ';
            } else {
                audio.pause();
                playBtn.textContent = 'æ’­æ”¾';
            }
        }

        // åœæ­¢éŸ³ä¹
        function stopMusic(index) {
            const audio = audioPlayers[index];
            const playBtn = document.getElementById(`play-${index}`);

            audio.pause();
            audio.currentTime = 0;
            playBtn.textContent = 'æ’­æ”¾';
        }

        // å…¨å±€å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            if (e.key === ' ' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
                togglePlay(0); // ç©ºæ ¼é”®æ’­æ”¾ç¬¬ä¸€é¦–éŸ³ä¹
            }
        });
    </script>
</body>
</html>